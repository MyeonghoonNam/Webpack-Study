# 웹팩 ?
- 웹팩이란 최신 프론트엔드 프레임워크에서 가장 많이 사용되는 `모듈 번들러`이다.

- 모듈 번들러란 웹 애플리케이션을 구성하는 자원(HTML, CSS, Javascript, Images 등)을 모두 각각의 모듈로 보고 이들을 조합하여 병합된 하나의 결과물을 만드는 도구를 의미한다.

# 모듈 ?
- `모듈`이란 프로그래밍 관점에서 특정 기능을 갖는 작은 코드 단위를 의미한다.

- 자바스크립트 파일을 예로 들면 성격이 비슷한 여러 기능 함수들을 하나의 의미 있는 파일로 분리하여 관리하면 모듈이라고 부를 수 있다.

# 웹팩에서의 모듈 ?
- 웹팩에서 지칭하는 모듈이라는 개념은 위와 같이 자바스크립트 모듈에만 국한되지 않고 `웹 애플리케이션을 구성하는 모든 자원`을 의미한다.

- 웹 애프리케이션을 제작할 때 HTML, CSS, Javascrpit, Images, Font 등 많은 파일들이 필요한데, 이러한 자원들에 해당하는 파일 하나하나가 모두 모듈에 해당한다.

# 모듈 번들링 ?
- `모듈 번들링`은 아래 그림과 같이 웹 애플리케이션을 구성하는 많은 자원들을 하나의 파일로 병합 및 압축하는 동작을 말한다.

- 빌드, 번들링, 변환 이 세 단어는 모두 같은 의미이다.

![](https://joshua1988.github.io/webpack-guide/assets/img/webpack-bundling.e79747a1.png)

# 웹팩의 등장 배경
웹팩이 등장한 이유는 아래와 같이 크게 3가지 이유가 존재합니다.

1. 파일 단위의 자바스크립트 모듈 관리의 필요성
2. 웹 개발 작업 자동화 도구
3. 웹 애플리케이션의 빠른 로딩 속도와 높은 성능

## 파일 단위의 자바스크립트 모듈 관리
- 자바스크립트의 변수 유효 범위는 기본적으로 전역 범위를 가진다.

- 최대한 넓은 변수 범위를 갖기 때문에 어디에서도 접근하기 편리하지만, 이러한 장점이 실제 웹 애플리케이션을 개발할 때는 아래와 같은 문제점으로 변하게 된다.

```javascript
<!-- index.html -->
<html>
  <head>
    <!-- ... -->
  </head>
  <body>
    <!-- ... -->
    <script src="./app.js"></script>
    <script src="./main.js"></script>
    <script>
      getNum(); // 20
    </script>
  </body>
</html>
```

```javascript
// app.js
var num = 10;
function getNum() {
  console.log(num);
}
```

```javascript
// main.js
var num = 20;
function getNum() {
  console.log(num);
}
```

- 위와 같은 코드에서 `index.html`에서 두 자바스크립트 파일을 로딩하고 같은 이름의 변수를 조회하면 `20`이라는 값만 조회되어지며 중복된 이름의 변수 데이터 관리가 어려워집니다.

- 웹팩을 활용하면 위와 같은 중복에 대한 문제를 파일 단위로 변수를 관리하기 용이한 장점이 있다.

## 웹 개발 작업 자동화 도구
- 이전부터 프런트엔드 개발 업무를 할 때 가장 많이 반복하는 작업은 텍스트 편집기에서 코드를 수정하고 저장한 뒤 브라우저에서 새로 고침을 눌러야만 화면에 변경된 내용을 볼 수 있었다.

- 그 외에도 웹 서비스를 개발하고 웹 서버에 배포할 때 아래와 같은 작업들을 병행하는 도구들이 필요했다.
  - HTML, CSS, JS 압축
  - 이미지 압축
  - CSS 전처리기 변환

- 이러한 일들을 자동화 해주는 도구들이 필요하여 등장한 도구가 Grunt, Gulp와 같은 도구이며 위의 작업들에 추가로 `모듈 기능`까지 제공하는 도구가 `Webpack`인 것이다.

## 웹 애플리케이션의 빠른 로딩 속도와 높은 성능
- 웹 사이트의 로딩 속도를 높이기 위해 많은 노력들이 있었다. 그 중 대표적인 노력이 `브라우저에서 서버로 요청하는 파일 숫자를 줄이는 것` 이였고, 이를 위해 앞에서 살펴본 웹 태스크 매니저를 이용해 파일들을 압축하고 병합하는 작업들을 진행해야 했었다.

- 하지만 이러한 기존의 웹 태스크 매니저(Grunt, Gulp)의 압축과 병합과정이 아닌 상황에서의 라이브러리 의존성에 대한 성능 저하 문제가 존재했다.

- 위와 같은 상황의 문제점을 보완하고 `초기 페이지 로딩 속도를 높이기 위해 나중에 필요한 자원들은 나중에 요청하는 레이지 로딩(Lazy Loading) 기술`이 적용가능한 도구가 바로 Webpack이다.

- 웹팩은 기본적으로 `필요한 자원은 미리 로딩하는게 아니라 그 때 그 때 요청하자는 철학`을 가지고 있다.

# 웹팩의 4가지 주요 속성
## Entry
- `entry` 속성은 웹팩에서 웹 자원을 변환하기 위해 필요한 최초 진입점으로 자바스크립트 파일 경로를 뜻한다.

- 아래 코드는 웹팩 실행시 `src` 폴더의 `index.js` 를 경로로 하여 웹팩이 빌드를 수행한다.

```javascript
// webpack.config.js
module.exports = {
  entry: './src/index.js'
}
```

### Entry 파일에 들어가야 하는 내용
- `entry` 속성에 지정된 파일에는 웹 애플리케이션의 전반적인 구조와 내용이 담겨져 있어야 한다.

- 웹팩이 해당 파일을 가지고 `웹 애플리케이션에서 사용되는 모듈들의 연관관계를 이해하고 분석`하기 때문에 애플리케이션을 동작시킬 수 있는 내용들이 포함되어야 하는 것 이다.

### Entry 유형
- entry 포인트가 1개가 일반적으로 사용되지만 아래와 같이 여러 개가 될 수 있다.

- 이는 싱글 페이지 애플리케이션이 아닌 특정 페이지로 진입시 서버에서 해당 정보를 내려주는 형태의 멀티 페이지 애플리케이션에 적합하다.

```javascript
module.exports = {
  entry: {
    login: './src/LoginView.js',
    main: './src/MainView.js'
  }
}
```